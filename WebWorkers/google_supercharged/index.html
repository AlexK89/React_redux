<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style type="text/css">
        #add_file_input {
            width: 0px;
            height: 0px;
            overflow: hidden;
        }

        #add_file_input:focus + label {
            outline: 2px solid #523dff;
        }

        #add_file_input + label {
            display: inline-block;
            background-color: #dcd8ff;
            font-family: sans-serif;
            padding: 0.5em;
            font-size: 1.3em;
        }
    </style>
    <title>WebWorkers | Google</title>
</head>
<body>
    <div class="add_file">
        <input
                type="file"
                accept="image/*"
                name="input"
                id="add_file_input">
        <label for="add_file_input">Choose file</label>
    </div>
    <canvas id="preview"></canvas>
    <script type="text/javascript">
        const input = document.getElementById('add_file_input');
        const preview = document.getElementById('preview');
        const previewCtx = preview.getContext('2d');
        const fileReader = new FileReader();
        const image = new Image();

        const applyFilters = () => {
            
        };

        image.addEventListener('load', (e) => {
            preview.width = image.width;
            preview.height = image.height;
            previewCtx.drawImage(image, 0, 0);
            applyFilter()
        });

        fileReader.addEventListener('load', (e) => {
            const base64 = e.target.result;
            image.src = base64;
            console.log(e);
        });

        input.addEventListener('change', (e) => {
            const file = e.target.files[0];

            fileReader.readAsDataURL(file);
        })
    </script>
</body>
</html>